Changes in branch remotes/origin/2.2.y, between 5c2a7dc522cc143db5e4349128ee2c190477c7ea and 84c9f17e42e9e397446b04cb56e60456116e0535
commit 84c9f17e42e9e397446b04cb56e60456116e0535
tree bf759939fc094b5c5265bd66d2597e321d4c4f97
parent 5c2a7dc522cc143db5e4349128ee2c190477c7ea
author prachi <prachi@cloud.com> 1329441654 -0800
committer prachi <prachi@cloud.com> 1329441654 -0800

    Bug 13824 - VM Deployment: If Root Volume is Ready, Planner should reuse the storagepool until cluster has capacity
    
    Reviewed-By: Alex
    
    Changes:
    - Reuse the same storagepool where the Volume is ready on each retry of VM deployment until the cluster where the volume is has capacity
    - After the cluster is out of capacity, we look in other clusters and find a new storagepool.
    - At this point if the volume is recreatable on the new storagepool, depoyment will succeed provided everytyhing else goes through
    - But if the volume is not recreatable and its cluster is out of capacity, we will still fail to deploy the VM
    
    Conflicts:
    
    	server/src/com/cloud/vm/VirtualMachineManagerImpl.java

:100755 100755 c56b51a7bc8310bf9a734179ac9586f87d5f1207 113b56310ce2e95fff3f1c91f3b5e5287284772b M	server/src/com/cloud/deploy/FirstFitPlanner.java
:100755 100755 12865a2282c7222df8f7cb25f4b2470cfd738077 f54703c3b2a8763a4706f10b8b77cabedbf3fff7 M	server/src/com/cloud/vm/VirtualMachineManagerImpl.java
