Changes in branch origin/master, between 53ca91024ae2afa7dcea7ce666af9edfec505ead and 14f973ba8ce08bab55498ac9849dd2a4f35df469
commit 14f973ba8ce08bab55498ac9849dd2a4f35df469
tree 06945bf92d3790f6b5920a4d50730980d6056733
parent 726aac5161f98de41513ab4c096ec65af0e0e737
author Alena Prokharchyk <alena.prokharchyk@citrix.com> 1334191878 -0700
committer Alena Prokharchyk <alena.prokharchyk@citrix.com> 1334192497 -0700

    Fixed 2.2.14 to 3.0. upgrade
    
    Conflicts:
    
    	setup/db/db/schema-30to301.sql

:100755 100755 189d97ad77cce2edc4163bc4ec19411b9f9be6be 4be6486aa7f3f73dd81149dd46db7a19b70a97c5 M	setup/db/db/schema-2214to30.sql
:100755 100755 e837420dac16768df11687de23958a8a9c9c8e79 1a493881bf128e35401d2a23217bd0750cda4c64 M	setup/db/db/schema-30to301.sql

commit 726aac5161f98de41513ab4c096ec65af0e0e737
tree 9d6c1c422631f20e715d9cb2bb363edafda48c5b
parent eb20d63f12df6cce95a603a4591ed8179cc9379b
author frank <frank.zhang@citrix.com> 1334191479 -0700
committer frank <frank.zhang@citrix.com> 1334191640 -0700

    set resource_state = allocation_state when doing DB upgrade

:100755 100755 f82e5c00a1039492e1358f30289fce6af52f65f1 189d97ad77cce2edc4163bc4ec19411b9f9be6be M	setup/db/db/schema-2214to30.sql

commit eb20d63f12df6cce95a603a4591ed8179cc9379b
tree 34c603d5eacfed85422c0d8760388336fe45b2e1
parent 0c33016c9fc921d606699eadf5abdd1cbb931970
author Sheng Yang <sheng.yang@citrix.com> 1334191026 -0700
committer Sheng Yang <sheng.yang@citrix.com> 1334191066 -0700

    Revert "Fix foreign key "fk_domain_router__element_id" in the upgrade"
    
    This reverts commit 52e334cefc7bd41323ab4295101175849d1556e9.
    
    Conflicts:
    
    	setup/db/db/schema-301to302.sql

:100755 100755 97a4b471e927f452509a35d93db09f91e491170c 7f3cd19317414895f8f3c76a9545eb5501351c69 M	setup/db/db/schema-301to302.sql

commit 0c33016c9fc921d606699eadf5abdd1cbb931970
tree 13a68a74d4af2d5a6b23d62caa9416b839b499f4
parent 9684ea739734a5b84ecb7f9a412f234a5b782160
author Jessica Wang <jessica@cloud.com> 1334190404 -0700
committer Jessica Wang <jessica@cloud.com> 1334190559 -0700

    cloudstack 3.0 UI - security group - ingress rule - fix a bug that Account, Security group failed to be translated.

:100644 100644 797683de6c603633a2498b8925209fe19e1847df 2d321fee91b2d31c16be9d6b3c6a521ee8fb2e19 M	client/WEB-INF/classes/resources/messages.properties
:100644 100644 889b872906e9c1ddc8b8b88604364a351cbf52f9 fab77e2bfb012593c9f07c3b91ee61f441091b0c M	ui/index.jsp
:100644 100644 8dfa6ff36f4f2f59f8d3ed1b62c609ab1379bac8 30d934b681d689475d17eebd2a0df9b98d2dac8d M	ui/scripts/network.js

commit 9684ea739734a5b84ecb7f9a412f234a5b782160
tree 4a3f89d12e40018f2c1062249ce3a156339395d6
parent 2b6666ccd1fff810667cbb937efcc8a67fb02fa4
author frank <frank.zhang@citrix.com> 1334190061 -0700
committer frank <frank.zhang@citrix.com> 1334190335 -0700

    CS-14429 Cloud db schema differences between fresh installed 3.0.2 & upgraded 3.0.2
    
        do check befor droping index i_host__allocation_state`(`allocation_state`)

:100644 100644 e737b3c9bc18057fde3cfdf04c9653be62d20fbd 217b55b8b36463994c77d9ce4a347e9bf60a347f M	server/src/com/cloud/upgrade/dao/Upgrade301to302.java
:100755 100755 a263d521979781f3cb65b3fa732a3ebacc045c34 97a4b471e927f452509a35d93db09f91e491170c M	setup/db/db/schema-301to302.sql

commit 2b6666ccd1fff810667cbb937efcc8a67fb02fa4
tree 7a0667910b22edfe6398c6e14332b042122074a6
parent 6c9fd606abce5579ff9092bb489775d2386703b3
author Kelven Yang <kelven@cloud.com> 1334189896 -0700
committer Kelven Yang <kelven@cloud.com> 1334189921 -0700

    Remove the dependency on VNC port for session management inside Console Proxy. This is to adapt Xen secure console support

:100644 100644 e12cfa0782beb4b82d82c339541c2cb1eb278674 11a3d2aa9ad5c6173a58ba2079d105801da76327 M	console-proxy/src/com/cloud/consoleproxy/ConsoleProxy.java
:100644 100644 38907cd5d1d7d8ad015f558e74b7d8b75eab706b 68d2750ebb084c21d0593eb2e0658d5d1fd09589 M	console-proxy/src/com/cloud/consoleproxy/ConsoleProxyClientBase.java
:100644 100644 df688778070646c6f36adb8a32d2c6a93447267d 01a053df969f4b7ab1598ebdb45163a4402b666c M	console-proxy/src/com/cloud/consoleproxy/ConsoleProxyClientParam.java
:100644 100644 614a39ebd373ab1c7d033ddf640121379a6d8c13 1226fc402ea6cd5a8bd871ee1a0ab464ea6a1a12 M	console-proxy/src/com/cloud/consoleproxy/ConsoleProxyGCThread.java
:100644 100644 ef9dd5f94f437d431f41fb422854d1ee01864364 61151d895be37f819d12c4407eb9604f84e95ca2 M	console-proxy/src/com/cloud/consoleproxy/ConsoleProxyThumbnailHandler.java
:100644 100644 22dd789993503cf893c62dcb41190fd38f2f6d85 11fd8f55e952938b4a56f8a52231464f4f8ccb7e M	console-proxy/src/com/cloud/consoleproxy/ConsoleProxyVncClient.java

commit 6c9fd606abce5579ff9092bb489775d2386703b3
tree 5d33ad7a2771f65cc8c5c5105b0441f4e480aa84
parent d91fbab9cfcd7d332fdadc4ecd3959b0cc245ef1
author Sheng Yang <sheng.yang@citrix.com> 1334188093 -0700
committer Sheng Yang <sheng.yang@citrix.com> 1334188278 -0700

    Fix foreign key "fk_domain_router__element_id" in the upgrade

:100755 100755 7f3cd19317414895f8f3c76a9545eb5501351c69 a263d521979781f3cb65b3fa732a3ebacc045c34 M	setup/db/db/schema-301to302.sql

commit d91fbab9cfcd7d332fdadc4ecd3959b0cc245ef1
tree 015170cc64448ecc68e250eded4d31789cb451e5
parent 4f116fb24f148c4ee64a74515d61a6323ae03e4c
author frank <frank.zhang@citrix.com> 1334187589 -0700
committer frank <frank.zhang@citrix.com> 1334187732 -0700

    CS-14429 Cloud db schema differences between fresh installed 3.0.2 & upgraded 3.0.2
    
    drop index i_host__allocation_state`(`allocation_state`)

:100755 100755 24aaee1dd12db12a96f7d1fbd556411785baf42f 7f3cd19317414895f8f3c76a9545eb5501351c69 M	setup/db/db/schema-301to302.sql

commit 4f116fb24f148c4ee64a74515d61a6323ae03e4c
tree db7a3fb318d77f025a184be1a0a76c95ba587d8a
parent 38e54d35e061332dc5dde33a5985a1e91ba0c842
author prachi <prachi@cloud.com> 1334186119 -0700
committer prachi <prachi@cloud.com> 1334186671 -0700

    Bug 14646 - Enabling Host into maintenance mode is stopping the VMs instead of live migrating them to other hosts in the cluster.
    
    Changes:
    -  While listing UP hosts in the cluster of the host, the query has changed and now also considers the Host 'resourceState' field and picks only those hosts that have value 'enabled'.
       This query result does not include the host being put in maintainance; unlike the earlier query that used to include it.
    -  But the logic to find out if this is the last host in the Cluster is not updated and has a bug when it compares the list size.
    - Fixed this.

:100755 100755 384f649f1a34621503cdab1bac34c2e5e5fc1563 bf9c43f6b5e28c523d1fa740ad80c121650632bf M	server/src/com/cloud/resource/ResourceManagerImpl.java

commit 38e54d35e061332dc5dde33a5985a1e91ba0c842
tree e2ea8cc669b8c9582adb1e3e2e5065f54d0b2774
parent 8084318e5e6a68e65ccd886407c33ba354f01034
author Jessica Wang <jessica@cloud.com> 1334186086 -0700
committer Jessica Wang <jessica@cloud.com> 1334186335 -0700

    bug 14418: cloudstack 3.0 UI - network - security group - after remove action completes, close detailView and remove corresponding row from listView.

:100644 100644 42138644250b6f09a4f4ce365e916e45de88ed0a 8dfa6ff36f4f2f59f8d3ed1b62c609ab1379bac8 M	ui/scripts/network.js

commit 8084318e5e6a68e65ccd886407c33ba354f01034
tree 3a021a73996b9d532164665526387f1e818aee25
parent 1107ee7f9a94d283b77fc589f845f2df830c2239
author Alena Prokharchyk <alena.prokharchyk@citrix.com> 1334186087 -0700
committer Alena Prokharchyk <alena.prokharchyk@citrix.com> 1334186631 -0700

    Remove obsolete network_tags table as a part of db upgrade cleanup

:100644 100644 c137cf282e580fc422cf8b01096878bc1b0b2c4d e737b3c9bc18057fde3cfdf04c9653be62d20fbd M	server/src/com/cloud/upgrade/dao/Upgrade301to302.java
:000000 100644 0000000000000000000000000000000000000000 50f22e9eadcf035705710a5cec1c661b5a8864bd A	setup/db/db/schema-301to302-cleanup.sql

commit 1107ee7f9a94d283b77fc589f845f2df830c2239
tree 425a54a76a632201575e73799c170d5c0efd52d2
parent 2152e9fd252cd97fb1153846843f8025966f4b48
author Jessica Wang <jessica@cloud.com> 1334183882 -0700
committer Jessica Wang <jessica@cloud.com> 1334183986 -0700

    cloudstack 3.0 UI - Event page, Alert page - implement Refresh button.

:100644 100644 95a8990e685e74675911ce006432d079aece0886 b3c010d2e1830e44df3c120665e996af2d246282 M	ui/scripts/events.js

commit 2152e9fd252cd97fb1153846843f8025966f4b48
tree 904815897cedb481e4891c423f0a329e2b393d69
parent 53ca91024ae2afa7dcea7ce666af9edfec505ead
author Jessica Wang <jessica@cloud.com> 1334182553 -0700
committer Jessica Wang <jessica@cloud.com> 1334182643 -0700

    cloudstack 3.0 UI - service offerings - implement Refresh button.

:100644 100644 85cfe71abb150d3d95bce0cdff706e0fb948cde5 db879715553072d7667f0d975be86d418ed273a0 M	ui/scripts/configuration.js
