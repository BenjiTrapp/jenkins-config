Changes in branch origin/master, between 754691e58ddbe59e4dc973b3dd7f1491c312581e and 07dddea8e2d6d8e597e9b3d406a3893381273154
commit 07dddea8e2d6d8e597e9b3d406a3893381273154
tree 5c135a32c656894bd40890a92c105e85e1fbc5be
parent 53dbeb66ae38a1c00191312e79967dea81804194
author prachi <prachi@cloud.com> 1330998382 -0800
committer prachi <prachi@cloud.com> 1330998623 -0800

    Bug 14028 - Add hostid parameter to StartVmCmd to enable admins to start VM on a particular host
    
    Changes:
    - Added hostid to StartVMCmd. Only root admin can use it.

:100644 100644 141ed3d30abf0ed3d3c20c95d7fa6ef68f20fe82 2e0d1fbb98edc14135a80d9162ee24bf7768eb23 M	api/src/com/cloud/api/commands/StartVMCmd.java
:100755 100755 d4cc05eb4795284cc368b2e093d5399fa716ede9 e27c55387201d0f6f172ef76a87f223bd4a0fbb1 M	api/src/com/cloud/vm/UserVmService.java
:100755 100755 41129272a376767b00752fb92edba973584f4d3f 439792e1772879c9b899095cae8a7796a82d328b M	server/src/com/cloud/vm/UserVmManagerImpl.java

commit 53dbeb66ae38a1c00191312e79967dea81804194
tree 7884edff3380a54926333ad52f3c6b7cec1e4ac5
parent 956e78a08c91856ac29665dab1832e4ca671f7ac
author Vijayendra Bhamidipati <vijayendra.bhamidipati@citrix.com> 1330727813 -0800
committer Vijayendra Bhamidipati <vijayendra.bhamidipati@citrix.com> 1330997949 -0800

    Bug 14060: Include a CloudStack error code in an Exception Response
    Bug 13127: API error text refer to database ids instead of uuids
    
    Code-Reviewers: Ewan Mellor, Kelven Yang
    
    Description:
    
    	1. A new class CSExceptionErrorCode has been added to utils.
    	   It contains a list of error codes for each type of
    	   Exception class. Use fully qualified package paths for
    	   Exceptions in CSExceptionErrorCode.  We log any exception
    	   name not found in the list of error codes for exceptions.
    
    	2. Whenever we throw an exception exobj anywhere in the
    	   CS code, the CSErrorCode is set in the base class
    	   constructor.
    
    	3. We add a new field csErrorCode in classes CloudException,
    	   RuntimeCloudException, ExecutionException and
    	   ExceptionResponse.
    
    	4. Two places in ApiServer.java were wrongly modified when
    	   putting in changes for bug 13127 to not throw an exception.
    	   This has been corrected in this commit.

:100644 100644 e58abe0882f02c0618da16dc3b824f815657d02b 26b6570cca30d63225ec166b11d1bb1b0c521ce7 M	api/src/com/cloud/api/response/ExceptionResponse.java
:100644 100644 a3bb866000750804ecf1efed44292e3efab2b185 94ba8ea6c587b311c9da2544e2d51088a1bc43fc M	api/src/com/cloud/exception/CloudException.java
:100755 100755 3bce3f78f00ae8f4321589e23923f5ed6308d210 f41bdfe6853daf4fb7ed375ee78cda34949edc1d M	server/src/com/cloud/api/ApiDispatcher.java
:100755 100755 25e337c55e2e90e54092ce0f94bfb66defd8a6f0 83d47cf439a19134e0c8c0aba38b5ce8b1dae512 M	server/src/com/cloud/api/ApiServer.java
:100755 100755 86d8b269347a68f98ba9296084e89b0a4c21c1e6 45493e1b04c3da89ea3e6b9842562b39b39b631c M	server/src/com/cloud/network/NetworkManagerImpl.java
:100755 100755 4e19c9844467d510341cb89edd0e3dfc69db686b 3360366e4e1bf1be40b41d92e540081fe7fa0b0e M	server/src/com/cloud/server/ManagementServerImpl.java
:000000 100755 0000000000000000000000000000000000000000 81b5ce4eb98023d88fa95e11a1d032d99bdc62ff A	utils/src/com/cloud/utils/exception/CSExceptionErrorCode.java
:100755 100755 5526b73bfb2004c314f90f50d7a809c3e54f985a d24e7be364c535842722ed1728f5a9adb4642c5a M	utils/src/com/cloud/utils/exception/ExecutionException.java
:100644 100644 19b8bc1f0eb3bce2abc30f18963e74be16c0331c de5a2c5467da6f88772b46a00cdc708b9f8eb4f1 M	utils/src/com/cloud/utils/exception/RuntimeCloudException.java

commit 956e78a08c91856ac29665dab1832e4ca671f7ac
tree dadaa8f5acc0a84f504ce0b889248e098593b8f1
parent 741622481f6e31fc0cea9f8fa26db9920e70c0eb
author prachi <prachi@cloud.com> 1330994557 -0800
committer prachi <prachi@cloud.com> 1330995862 -0800

    Bug 14000 - Neither Admin or regular user can create a VM when the Pod is disabled
    
    Bug 14006 - Admin could not create a VM when the cluster is Disabled
    
    Changes:
    - For Root admin, planner will not filter out the disabled pods or clusters from the resource list

:100755 100755 a11c0bde033867925e94a3612e8202f66807b0e2 f24897693f3e3068aea1583c32d5a388e49d7952 M	server/src/com/cloud/deploy/FirstFitPlanner.java

commit 741622481f6e31fc0cea9f8fa26db9920e70c0eb
tree df9a833be241c0b53d1c014b7eeb1d9af45cae11
parent 2d2da899bbba077bdf9b5c74b3ad2a55226780a0
author prachi <prachi@cloud.com> 1330994644 -0800
committer prachi <prachi@cloud.com> 1330995853 -0800

    Bug 13999 - Non-admin user should not be able to take snapshots
    
    Changes:
    
    If Zone is disabled, deny permission to regular user while creating snapshots

:100755 100755 0a9de2944f09fd47422f593542f76e8b240c9487 c36282bbf654cfeb12b348e72b2cd63b5004b3c4 M	server/src/com/cloud/storage/snapshot/SnapshotManagerImpl.java

commit 2d2da899bbba077bdf9b5c74b3ad2a55226780a0
tree 3adc4b8ab1fb0313a32d17e42af59119b627dd38
parent 3fc86bc721f5e342fc82bd3dc3fb81b0f3c1ffd7
author Alena Prokharchyk <Alena.Prokharchyk@citrix.com> 1330990890 -0800
committer Alena Prokharchyk <Alena.Prokharchyk@citrix.com> 1330993152 -0800

    bug 14103: mark account for cleanup only in cleanupAccount and disableAccount method, not in the callers methods
    status 14103: resolved fixed

:100755 100755 3513f646e83684e63352570f82529c69ee2a3354 feb3e4369b0d22cfde3993e825be3117fda82238 M	server/src/com/cloud/user/AccountManagerImpl.java

commit 3fc86bc721f5e342fc82bd3dc3fb81b0f3c1ffd7
tree cd05e4ef750e132e17c78d1bff71a355a8dce5cf
parent 147423382d52e90c3cca3caf45723ab7cc6055f3
author Brian Federle <brian.federle@citrix.com> 1330992789 -0800
committer Brian Federle <brian.federle@citrix.com> 1330992811 -0800

    bug 14088:
    
    Fix Citrix log / EULA not rendering due to missing language cookie;
    specify default language variable, set to English, if no 'lang' cookie
    is present.
    
    status 14088: resolved fixed

:100644 100644 076bcd88f14be977fe10d8c2467bd7af43f9f833 7d3ebd069f7513c510cb83ed240201dd2e15447a M	ui/scripts/cloudStack.js

commit 147423382d52e90c3cca3caf45723ab7cc6055f3
tree 090847ed7cbdea0e63da3f2999167ac94f97f6ae
parent 087941a9f93309c60b870e82a49dfe861d56abd7
author Jessica Wang <jessica@cloud.com> 1330992785 -0800
committer Jessica Wang <jessica@cloud.com> 1330992785 -0800

    bug 13386: System page - Virtual Router page - hide Public IP field when its zone's network type is Basic.

:100644 100644 23d7cf1500acd185360b74f7a7343a31cbd20b69 a3269b400ea1630536cb7d9912e5d764842fe879 M	ui/scripts/system.js

commit 087941a9f93309c60b870e82a49dfe861d56abd7
tree 62d642e4d82c999ddc9160fc7ea65f0ee671f42b
parent 40d0888826772ffcfd7cc54967b03c4817f190e5
author Brian Federle <brian.federle@citrix.com> 1330991658 -0800
committer Brian Federle <brian.federle@citrix.com> 1330991677 -0800

    UI: Add notification tests

:100644 100644 bcb58763c7b91d6706a0bbf8d3e069f330a3b722 d856f09f5b3d1c92c89faca5d70700fd63c1a405 M	ui/tests/test.notifications.js

commit 40d0888826772ffcfd7cc54967b03c4817f190e5
tree 837b49eded38ba65fe6faf78f512cf18b017ef6e
parent 3f3c8b16b693a406682d8d2bb32643ce5e7b61ce
author frank <frank.zhang@citrix.com> 1330989314 -0800
committer frank <frank.zhang@citrix.com> 1330990693 -0800

    set xen.storage.network.device1 xen.storage.network.device2 to null when upgrade

:100755 100755 ba0fbb33b9aaf0294a195a76f9c7eed7bfa98b94 2cd660cb7364b25eb144178a2320c16e1d192d8e M	setup/db/db/schema-2214to30.sql

commit 3f3c8b16b693a406682d8d2bb32643ce5e7b61ce
tree 50d9fd9a29e06f761e7f2c22f591c701cfef14ee
parent 425a9255cdc5cb94fd1b4954c3b3eaca69579e9c
author frank <frank.zhang@citrix.com> 1330987127 -0800
committer frank <frank.zhang@citrix.com> 1330990686 -0800

    allow more commands when resource state in maintenance mode

:100755 100755 70575bca3a420766655b93a00719f97d24bd270f 66e79f05598758eeda3ef2cdde0fdfd2d3b75de3 M	server/src/com/cloud/agent/manager/AgentAttache.java

commit 425a9255cdc5cb94fd1b4954c3b3eaca69579e9c
tree 7ed5ada52a2cbc3c64ddc9bdf5c7a458fce1dba0
parent 4e36fc736dc25e56342306d9c63f6cd2ba446251
author frank <frank.zhang@citrix.com> 1330986359 -0800
committer frank <frank.zhang@citrix.com> 1330990680 -0800

    allow SetupCommand when resource is in maintenance mode.
    Since maintenance is resource state not agent status right now

:100755 100755 56489ede88e178ec402c0ef703bb1aec7ff080ed 70575bca3a420766655b93a00719f97d24bd270f M	server/src/com/cloud/agent/manager/AgentAttache.java

commit 4e36fc736dc25e56342306d9c63f6cd2ba446251
tree 56ccd7da9baebd15d824283a151ebfb04a4724ec
parent 13445fc7b036af34dbca024fe92e66393b8eb886
author frank <frank.zhang@citrix.com> 1330985394 -0800
committer frank <frank.zhang@citrix.com> 1330990673 -0800

    Bug 14068 - Db upgrade: resource_state is incorrect for the host in UP state after the db upgrade from 2.2.x to 3.0
    
    fix typo

:100755 100755 55e20ed4265de885b36f249a776e142daffd7e1c ba0fbb33b9aaf0294a195a76f9c7eed7bfa98b94 M	setup/db/db/schema-2214to30.sql

commit 13445fc7b036af34dbca024fe92e66393b8eb886
tree 8d586be5f99cc4625217d571b751ad2713ab16e2
parent cdc48eaf3363768cde1f73743a7f0182f784b73a
author frank <frank.zhang@citrix.com> 1330983283 -0800
committer frank <frank.zhang@citrix.com> 1330990666 -0800

    Bug 14068 - Db upgrade: resource_state is incorrect for the host in UP state after the db upgrade from 2.2.x to 3.0
    Bug 14099 - Db upgrade for storage network
    
    status 14068: resovled fixed
    status 14099: resovled fixed

:100644 100755 8469a51c5609c00c4e5c5d69d53dd3e3ecc9fde7 e509062be74aeafde16ca9e4728df15e2fbce62a M	server/src/com/cloud/upgrade/dao/Upgrade2214to30.java
:100755 100755 4d84f67d795903e1fe346fd1901a7642e72560a0 55e20ed4265de885b36f249a776e142daffd7e1c M	setup/db/db/schema-2214to30.sql

commit cdc48eaf3363768cde1f73743a7f0182f784b73a
tree a39233c0e821eab7ec710f3d74ea83fc6b35f57a
parent 754691e58ddbe59e4dc973b3dd7f1491c312581e
author Jessica Wang <jessica@cloud.com> 1330988659 -0800
committer Jessica Wang <jessica@cloud.com> 1330988659 -0800

    ISO page - wrong value, "labelc.community", in Filter by dropdown

:100644 100644 c5be659ada294cd436f23a0c14c14d8649afad68 e46219809bc5f4d05f23fc6b3261874d3d6b6e4c M	ui/scripts/templates.js
