Changes in branch origin/3.0.x, between 0ed1943d28f098f0cfdf8d15d9dd076dffebfb79 and 6ebf1cdfbbc0ef49666b561208bbda67b3979b70
commit 6ebf1cdfbbc0ef49666b561208bbda67b3979b70
tree a3a50a7d57824cb8c6195ba07475e5af7582de0c
parent b14b35d5f935b59399d229901a6215da24c491d4
author Kelven Yang <kelven@cloud.com> 1332567697 -0700
committer Kelven Yang <kelven@cloud.com> 1332809642 -0700

    bug 14301:
    
    1) Drop synchronized call semantic for ClusterManagerImpl.broadcast()
    2) Have no choice now but to use an unbound thread pool to notify upper layer. This is to prevent thread starvation when we have cross-management server waitings.
    
    Reviewed-By: Kelven(with unit test)

:100755 100755 46fdff3eacf9fb2e7ace7de54a90a595cb623900 68adbe9303424feaac1e0c391d4f7428c5fa1afb M	server/src/com/cloud/cluster/ClusterManager.java
:100755 100755 6a42fce107b5f366552e24cc97d3970f2b5cf36d f5ba9eb2c167e09b309b91208cee4b509f63d296 M	server/src/com/cloud/cluster/ClusterManagerImpl.java
:100644 100644 f0976c25be3a4cc188b137b8ed61370f52c3e0f2 701ccae51d64666944b227a1a5e3d5cda75bfcce M	server/src/com/cloud/cluster/ClusterServicePdu.java
:100644 100644 1088d771503099bb6ff14f4aec0c08faeaaefddf 599c68ab10aca9eba7ce310c559d58c43eadb5ff M	server/src/com/cloud/cluster/ClusterServiceRequestPdu.java
:100755 100755 f10666994248ee673ac8ec5e8c2df809fa602dc1 3d0dabd40718f71ac66abf0c6007ffa673f19132 M	server/src/com/cloud/cluster/ClusterServiceServletHttpHandler.java
:100644 100644 f61301d20cd2aa6f6a0d130facd0030048c3b22c ca1ec7616182983118d9ca606669928b5716be28 M	server/src/com/cloud/cluster/ClusterServiceServletImpl.java
:100755 100755 e636433759ca11a1e25575133d46e3bbc582586c c75635747752927492628844a35ed0998c7e3992 M	server/src/com/cloud/cluster/DummyClusterManagerImpl.java

commit b14b35d5f935b59399d229901a6215da24c491d4
tree ace78745da78635ac461557ceb3527bf19f9e09e
parent d9a439a513a3b8e8e31edd8544d96763af1f2366
author Kelven Yang <kelven@cloud.com> 1332516409 -0700
committer Kelven Yang <kelven@cloud.com> 1332809641 -0700

    bug 14301: fix regressions caused by new clustering transport. Correct usage of HttpClient to avoid socket staying in CLOSE_WAIT state for too long. Reviewed-By: Kelven

:100755 100755 2d00b9873fb6909a8a4fa5430181dd01c8f1127c 6a42fce107b5f366552e24cc97d3970f2b5cf36d M	server/src/com/cloud/cluster/ClusterManagerImpl.java
:100644 100644 a85bf72f55b408671314e422bf573a6c87e287ee 5c312df70ee09d7d45a1e7a178fcef2d894de316 M	server/src/com/cloud/cluster/ClusterServiceServletContainer.java
:100644 100644 01ae90e663372c1b41add4e2d47c48ab759853ee f61301d20cd2aa6f6a0d130facd0030048c3b22c M	server/src/com/cloud/cluster/ClusterServiceServletImpl.java

commit d9a439a513a3b8e8e31edd8544d96763af1f2366
tree f97d833951fc85d785679f8a4e5d5d65aca0fac3
parent 5bdc9da6992c1be0dee311335c6740bf4691ab18
author Kelven Yang <kelven@cloud.com> 1332518650 -0700
committer Kelven Yang <kelven@cloud.com> 1332809640 -0700

    bug 14301: Decouple synchronized crosss management server call with clustering transport, remove obsolete code.  Reviewed-by: Kelven
    
    Conflicts:
    
    	server/src/com/cloud/cluster/ClusterServiceServletImpl.java

:100644 100644 c20d9e6c39e52b72c861a75290c577fb01750e90 01ae90e663372c1b41add4e2d47c48ab759853ee M	server/src/com/cloud/cluster/ClusterServiceServletImpl.java

commit 5bdc9da6992c1be0dee311335c6740bf4691ab18
tree 91b813a46500ac74d0a04fa2f64868b3c69b5398
parent a0c409560108f42077c6b49c08a95a7ab8b39763
author Kelven Yang <kelven@cloud.com> 1332518445 -0700
committer Kelven Yang <kelven@cloud.com> 1332809639 -0700

    bug 14301: Decouple synchronized crosss management server call with clustering transport. Reviewed-by: Kelven
    
    Conflicts:
    
    	server/src/com/cloud/cluster/ClusterServiceServletImpl.java
    	server/src/com/cloud/cluster/DummyClusterManagerImpl.java

:100644 100644 01ae90e663372c1b41add4e2d47c48ab759853ee c20d9e6c39e52b72c861a75290c577fb01750e90 M	server/src/com/cloud/cluster/ClusterServiceServletImpl.java

commit a0c409560108f42077c6b49c08a95a7ab8b39763
tree f97d833951fc85d785679f8a4e5d5d65aca0fac3
parent 040de04397e40754854ad6e15a05021845fa0e70
author Kelven Yang <kelven@cloud.com> 1332279288 -0700
committer Kelven Yang <kelven@cloud.com> 1332809638 -0700

    bug 14301: Decouple synchronized crosss management server call with clustering transport, remove obsolete code.  Reviewed-by: Kelven

:100644 100644 a33ec1e15693d10dcdf7e5cd7e1307f3c1173f90 01ae90e663372c1b41add4e2d47c48ab759853ee M	server/src/com/cloud/cluster/ClusterServiceServletImpl.java
:100755 100755 999e1a98d581bac99c650e78d47a37d0b325e29c e636433759ca11a1e25575133d46e3bbc582586c M	server/src/com/cloud/cluster/DummyClusterManagerImpl.java

commit 040de04397e40754854ad6e15a05021845fa0e70
tree df5900c44e91d9fe9f2e74fa7a4e0b441033fd5a
parent 0ed1943d28f098f0cfdf8d15d9dd076dffebfb79
author Kelven Yang <kelven@cloud.com> 1332798393 -0700
committer Kelven Yang <kelven@cloud.com> 1332809637 -0700

    bug 14301: Decouple synchronized crosss management server call with clustering transport. Reviewed-by: Kelven

:100755 000000 6a8aa81ced47ed6342c9e885d3a06ff6860d0e16 0000000000000000000000000000000000000000 D	server/src/com/cloud/cluster/ClusterAsyncExectuionListener.java
:100755 100755 cec5ea7b17c05eacbc0139cf575b33736a9bd44b 46fdff3eacf9fb2e7ace7de54a90a595cb623900 M	server/src/com/cloud/cluster/ClusterManager.java
:100755 100755 0982cc7afaab93dcf8fdc901037c59d0a2d1aeb9 2d00b9873fb6909a8a4fa5430181dd01c8f1127c M	server/src/com/cloud/cluster/ClusterManagerImpl.java
:100644 100644 dd8081b46ced9f2f6c3c6c4ac2eed5b19e66a0d3 408eb15c29200cc443b6ec751227b5c379da5c3d M	server/src/com/cloud/cluster/ClusterService.java
:000000 100644 0000000000000000000000000000000000000000 f0976c25be3a4cc188b137b8ed61370f52c3e0f2 A	server/src/com/cloud/cluster/ClusterServicePdu.java
:000000 100644 0000000000000000000000000000000000000000 1088d771503099bb6ff14f4aec0c08faeaaefddf A	server/src/com/cloud/cluster/ClusterServiceRequestPdu.java
:100755 100755 9636683076b9193f41864fe50d35739de5e9e12f f10666994248ee673ac8ec5e8c2df809fa602dc1 M	server/src/com/cloud/cluster/ClusterServiceServletHttpHandler.java
:100644 100644 ce65fe18e87affaa07f0892a4fd8440e3f66d8bb a33ec1e15693d10dcdf7e5cd7e1307f3c1173f90 M	server/src/com/cloud/cluster/ClusterServiceServletImpl.java
:100755 100755 6275b8b21e783918bff9235519218dbf528bb6f4 999e1a98d581bac99c650e78d47a37d0b325e29c M	server/src/com/cloud/cluster/DummyClusterManagerImpl.java
:100644 100644 335785f7fe216b50012e4412bd9646919bda008e c1ff62f2a236e9500d139cdb1fbf6ffebdbdf05b M	server/src/com/cloud/cluster/RemoteMethodConstants.java
:100755 100755 ac2dd041441f643005f9dd04a53b8b76c8556c02 132958a2a7a5af4e39d31e5114abaea3200d3de9 M	server/test/com/cloud/cluster/CheckPointManagerTest.java
:100755 100755 d9839062a08ae99750775d8fac7b820ae34702db 06ef648e42cc8b90a2b70f1c42a535cfd3915e57 M	server/test/com/cloud/network/MockNetworkManagerImpl.java
